<header title="{{$ctrl.inEdit ? 'Editing' : 'Viewing'}}: {{ $ctrl.title }}">
</header>
<div class="main-content container-fluid no-padding">
  <div class="editors">
    <div class="editor main-editor" ng-class="{'active' : $ctrl.activeRevisiton.id}">
      <div id="editor"
       ng-class="{'editor-error' : ($ctrl.isModified() && !$ctrl.valid)}"
       ui-ace="$ctrl.editor"
       ng-model="$ctrl.source" ng-change="$ctrl.validate($event)"
       ng-readonly="!$ctrl.inEdit">

      </div>
      <div class="editor-actions">
        <button
          ng-if="!$ctrl.inEdit"
          class="btn btn-ghost btn-small btn-primary" type="submit"
          ng-click="$ctrl.startEdit()">
            Edit
        </button>
        <button
          class="btn btn-ghost btn-small btn-success" type="submit"
          ng-if="$ctrl.inEdit && !(!$ctrl.isModified() || !$ctrl.valid)" ng-click="$ctrl.save()">
            Save
        </button>
        <button
          ng-if="$ctrl.inEdit"
          class="btn btn-ghost btn-small btn-primary" type="submit"
          ng-click="$ctrl.cancel()">
            Cancel
        </button>
      </div>
    </div>
    <div class="editor seocondary-editor" ng-class="{'active' : $ctrl.activeRevisiton.id}" ng-show="$ctrl.activeRevisiton.id">
      <div id="revisitonEdifor"
        ui-ace="$ctrl.editor"
        ng-model="$ctrl.activeRevisiton.source"
        ng-readonly="true">
      </div>
      <div class="editor-actions" ng-if="$ctrl.activeRevisiton.id">
        <button
          class="btn btn-ghost btn-small btn-primary" type="submit"
          ng-click="$ctrl.closeRevision()">
            Close
        </button>
    </div>
  </div>
</div>
