<header title="Gateway" title-addition="{{$ctrl.data.name}}">

</header>

<div class="container-fluid">

  <div class="row">

    <div class="col-md-4">
      <h4>Host</h4>
      <p>{{$ctrl.data.service.host}}</p>

    </div>
    <div class="col-md-4">
      <h4>Port</h4>
      <p>{{$ctrl.data.service.port}}</p>
    </div>

    <div class="col-md-2">
      <h4>Deployed</h4>
      <span ng-if="$ctrl.data.deployed" class="label label-success"><i class="fa fa-check"></i>&nbsp;Deployed</span>
      <span ng-if="!$ctrl.data.deployed" class="label label-default">Not Deployed</span>
    </div>

    <div class="col-md-2">
      <h4>Sticky</h4>
      <span ng-if="$ctrl.data.sticky !== 'none'" class="label label-success"><i class="fa fa-check"></i>&nbsp;Is sticky</span>
      <span ng-if="$ctrl.data.sticky === 'none'" class="label label-default">Is Not Stikcy</span>
    </div>

  </div>


  <div class="row">
    <div class="col-md-4">

    </div>
    <div class="col-md-4">
      <h4>{{$ctrl.currentRate}}&nbsp;Requests per second</h4>

      <canvas id="line" class="chart chart-line" chart-data="$ctrl.rateChart.data"
              chart-labels="$ctrl.rateChart.labels" chart-series="$ctrl.rateChart.series" chart-options="$ctrl.chartOptions">
      </canvas>
    </div>
    <div class="col-md-4">
      <h4>{{$ctrl.currentResponseTime}}&nbsp;Response time (ms)</h4>
      <canvas id="line" class="chart chart-line" chart-data="$ctrl.responseChart.data"
              chart-labels="$ctrl.responseChart.labels" chart-series="$ctrl.responseChart.series" chart-options="$ctrl.chartOptions">
      </canvas>
    </div>
  </div>

  <h4>Routes</h4>

  <table class="table">
    <tr>
      <th>Name</th>
      <th><a href="javascript:void(0)" ng-click="$ctrl.editWeights()">Weight <a class="fa fa-pencil" aria-hidden="true"></a></i></th>
      <th>Conditions</th>
      <th>Condition Strength</th>
    </tr>
    <tr ng-repeat="(routename, route) in $ctrl.data.routes">
      <td>{{routename}}</td>
      <td>{{route.weight}}</td>
      <td>{{route.conditions}}</td>
      <td>{{route.condition_strength}}</td>
    </tr>
  </table>
</div>